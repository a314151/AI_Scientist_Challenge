一、rerank修改

二、主要工作变化：将数据库正常检索文献增为150篇，分别并行发给DS得出4个因子分数，公式相加后对值排序，从大到小选40篇作为综述文献。

三、思路
把“主题相关性（semantic relevance）”与“影响力（citation impact）/引用功能（intent）”量化并合并为排序分数
直接 “把每篇文献用 API 逐个问 LLM”实现的评分公式（可以按需要调整系数）：
•	 P：提纲段落或段落集合（目的是引用该文献以支撑的提纲单元）。
•	1.sim(P,q)：语义匹配分（0–1），用 LLM（对（提纲段落，候选文章摘要/片段）做相似度评分。
具体实现：
你是一名科学文献匹配系统。请严格按照要求输出 0 到 1 的相似度分数。

【任务】给定下面两段文本：
1. 研究提纲段落（用于写综述的目标段落）
2. 候选文献的标题和摘要

请你判断候选文献是否能直接支撑/回答该提纲段落的内容。

【要求输出】
只输出一个 JSON:
{
  "similarity": <0到1的小数>,
  "reason": "一句话理由"
}

【提纲 p】
{{p}}

【候选文献 q】
Title: {{title}}
Abstract: {{abstract}}


•	2.norm_impact(q)：文章级标准化影响分
具体实现：

你是一名科学文献评估系统。
请根据以下信息判断论文的学术影响力（normalized 0-1）：
- Title: {{title}}
- Abstract: {{abstract}}
- Publication Year: {{year}}
- Venue / Journal: {{venue}}
- Raw citation count: {{citations}}

要求：
1. 考虑论文发表年份和领域的平均引用水平
2. 输出一个浮点数 0-1，0 表示影响力极低，1 表示极高
3. 给出一句简短理由

输出 JSON 格式：
{
  "norm_impact": <0-1>,
  "reason": "一句话解释"
}
•	3.intent_weight(q)：对提纲的贡献度
具体实现：

你是一名科研综述写作助手。
请根据下面的信息判断该文献对提纲段落的贡献程度：
- 提纲段落：{{P}}
- 文献摘要或引用片段：{{q_summary}}

要求：
1. 输出一个 0-1 的数值，表示文献对段落的支撑/贡献强度
2. 0 表示几乎无帮助，1 表示核心支撑
3. 给出一句简短理由
4. 输出 JSON 格式：
{
  "intent_weight": <0-1>,
  "reason": "一句话说明贡献程度"
}
•	4.FICE_like(q)：衡量“新颖性/信息量/主题覆盖”以提升对新但相关文献的权重
具体实现：

你是一名科研文献分析专家。
请根据以下信息评估文献的新颖性和信息量：

- Title: {{title}}
- Abstract: {{abstract}}
- Publication Year: {{year}}

要求：
1. 给出文献的新颖性/信息量评分，范围 0-1
2. 0 表示内容平凡或已知，1 表示内容新颖且信息量大
3. 给出一句简短理由
4. 输出 JSON 格式：
{
  "FICE_like": <0-1>,
  "reason": "一句话解释"
}
初始建议：
•	α = 0.45（相关性优先）
•	β = 0.35（影响力次要但重要）
•	γ = 0.25（引用功能权重）
•	δ = 0.05（可选小权重，鼓励新颖）

四、主要代码改动
新增D:\Desktop\ligtllm\AI_Scientist_Challenge\litLLMs\retrieval\src\local_ranker\__init__.py
修改D:\Desktop\ligtllm\AI_Scientist_Challenge\litLLMs\retrieval\src\utils\excel_utils.py|
等
五、测试工作
测试了9组因子得出目前的因子：
0.群里的最后输出0.PDF（baseline）
q:哪篇好一点？分别从综述质量和引用的文献的整体质量评判
相关性/影响力/可能的上下文支撑能力/创新性
1.0.45/0.25/0.25/0.05
2.0.45/0.45/0.25/0.05   1>2
3.0.45/0.35/0.25/0.05   3>1>2
4.0.45/0.35/0.35/0.25   4max
5.0.45/0.35/0.35/015    5max
6.0.45/0.4/0.4/0.3         6MAX且首次超过baseline(0)
7.0.45/0/0.2/0.05         7≈6同样超过baseline(0)但6引用更权威
8.0.45/0.4/0.4/0.1         否
9.0.45/0.60/0.40/0.1     perfect
